

# 一、 基础知识

## 1. 为什么需要数据类型

* 功能不同，数字与字符串等

* 存储形式不同
  * JS中数字是用64位浮点数形式存储的 
  * 字符串是用类似UTF8形式存储的



> * 存数字：十进制转二进制存储，太慢，数字太长，转换为十六进制存储
>
> * 存字符：把字符用数字编号后存储，
>
>   * 从ASIIC码，到万国码**Unicode**都是编码方式
>
>   * Unicode已收录13万字符，全世界通用，还会继续扩充
>
>   * Unicode大于16位，两个字节不够用，每个字符都要用三个以上的字节存储，所有文件都扩大50%
>
>   * 存储方式进行改进：就使用**UTF-8**
>
>     最少可用8位存一个字符，使用前面几个字符表示该字符占用几个字节，然后依此往后数，进行还原编码

所以数字1存时还是1，字符串‘1’存储时就是49

都是数字，如何让计算机知道是不同的数据类型，就是文件后缀等约定，比如文档里存的是字符串，表格里存的是数字

## 2. JS数据类型

JS中的数据类型，四种基本类型，两种空类型，一种复杂类型对象

四基两空一对象

### （1）基本类型

* 数字number

* 字符串 string

* 布尔bool

* 符号symbol



### （2）空

* undefined

* null



### （3）复杂类型

* 对象object





> 后又添加了BigInt类型，属于数字number的补充类型，Set，Map，WeakSet,WeakMap四种类型属于Object类型的补充类型



# 二、类型详解（除对象）



## 1. 数字number

 在JS中只有64位浮点数，没有整数等其他类型

### （1）写法

* 整数：             1

* 小数：              0.1

* 科学计数法：  1.23e4

* 八进制：          0、00、0o开头

* 十六进制：      0x、0X开头

* 二进制：          0b、0B开头

### （2）特殊值 

* 正0，负0，0，都等于0 ，但在一定情况下是不同的

![1649840171992](JS数据类型.assets\1649840171992.png)

* 无穷大：Infinity  +Infinity   -Infinity

* 无法表示的数字NaN
  * 0/0     0是0的几倍？
  * 知识受限，无法表示，并不是说NaN不是数字
  * NaN是一个不确定的数字，所以  `NaN !== NaN`

### （3）存储方式

64位浮点数

*  64位存储一个number

  * 符号（正负）占一位 
  * 指数占11位（-1023~1024）
  * 有效数字占52位
  * 开头1.xxx的1不存，指数的2不存

* 范围（忽略符号位）

  * 最大值

    Number.MAX_VALUE:1.7976931348623157e+308

  * 最小值

    Number.MIN_VALUE:5e-324

* 精度（有效数字）

  * 二进制：52+1位
  * 十进制：2^52   15-16位有效数字，前后0不是有效数字





## 2. 字符串string

每个字符占两个字节

### （1）写法

* 单引号

* 双引号

* 反引号    可以使用回车

* 转义字符

  ```js
  \'            '
  \"            "
  \n            换行
  \r            回车
  \t            tab
  \\            \
  \uFFFF        对应的Unicode字符
  \xFF          前256个Unicode字符
  ```

  

>  引号不属于字符串的一部分
>
> 引号里包含引号，可使用不同的引号，或者使用转义字符



### （2）属性

对象才有属性，原型中赋予字符串的属性

```js
//字符串长度
string.lenth
'123'.length   //打印出3

//字符串下标
string[index]
let s = 'abcdefg'
s[0]           //打印出a
s[7]           //超出不报错，打印undefined
```



### （3）base64 转码

简单了解

可以把JS字符串进行转码

```js
window.btoa('转码内容')    //转码

window.atob('还原内容')    //还原
```



## 3. 布尔boolean

只有两个值，真`true`和假` false`  注意大小写

### （1）条件

* 否定运算 `!value`
* 相等运算`1 !== 2`=>true  `3 === 4`=>false
* 比较运算`<`,`>`,`<=`,`>=`



### （2）falsy

* 前提：`if`语句常需要判断，如果不是布尔值，那么真假问题如何界定

* 五个falsy值

  相当于false，但又不是false

  * `undefined  `
  * `null  `
  * `0  `
  * `NaN  `
  * ` ''  `   空字符串，引号里没有东西

**`document.all`在`if`语句中也判断为false**

## 4. 空类型

### null 和undefined区别

* 没有本质区别 

* 如果一个变量声明了，但没有复制，那么默认值就是undefined
* 如果一个函数，没有写return，那么默认return  undefined

* undefined一般是默认，null一般是主动设置

* 程序员习惯上，把非对象的空值写为undefined，对象的空值写为null

## 5. 符号symbol 

不常用

每个从`Symbol()`返回的symbol值都是唯一的。一个symbol值能作为对象属性的标识符；这是该数据类型仅有的目的。

[文档](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol)



#  三、 变量声明

变量声明时，既给定了值，又指定了**类型**，但是值和类型都可以随意变换

## 1. 三种声明方式

* `var a =1`

* `let a = 1`

* `const a = 1`

## 2. var

var是旧语法

变量提升，全局声明会挂到window上

变量提升 [Hoisting](https://developer.mozilla.org/zh-CN/docs/Glossary/Hoisting)



## 3.let

let是新语法，更合理

### 规则：

* 遵循块作用域，适用范围不能超出`{}`

* 不能重复声明 

* 可以赋值，也可以不赋值

* 必须先声明再使用

* 全局声明的let变量不会变成window的属性

* for配合let有奇效

![1649651955201](JS数据类型.assets\1649651955201.png)

![1649651998441](JS数据类型.assets\1649651998441.png)



## 4.const

### 规则：

* 规则跟let几乎一样，但是声明就要赋值，赋值后不能更改
* 用于常量声明

* 不能配合for使用





## 5. 变量和常量

* name是变量，值可变，类型可变

* 'name'是常量，值只能是'name'不能是其他值，类型是字符串



# 四、类型转换

## 1. x => string



* `String(n)`      调用String函数
  
  * `n`如果是数字，就只能接受20个0的数字，再长会变为科学计数法，使用`BigInt`可以解决，但是23位之后会失去精度
  
* `n.toString()`   调用toString方法

  * 数字使用toString有bug

  ![1649854710317](JS数据类型.assets\1649854710317.png)

- `n+''`    数字加一个空字符串也可以转换为字符串

## 2. string = > number

* `Number(s) `    调用Number函数
* `s-0 `         减去0
* `+s`           加正号
* `parseInt(s) `/` parseFloat(s)`      调用函数
  * parseInt字面是转换为整数，实际还是浮点数
  * `parseInt('123',10) ` 表示把十进制数123变为十进制数123输出
  * 新语法没必要写10，旧语法会把以0开头的数字当做八进制，也就是`parseInt('0123')`会将八进制数123换为十进制数输出
  * 如果要把其他进制数转换为十进制数输出，就在要转换的数字后跟上进制数 例如`parseInt('123',16)`把十六进制数123变为十进制数输出



## 3.x => bool

任意类型转换成布尔类型

* `Boolean(x)`   调用Boolean函数

* `!!x`       取两次反，得到其布尔值











