# ä¸€ã€å¯¹è±¡å®šä¹‰

å¯¹è±¡objectå”¯ä¸€ä¸€ç§å¤æ‚ç±»å‹



## 1.å®šä¹‰ï¼š

* æ— åºçš„æ•°æ®é›†åˆ

* é”®å€¼å¯¹çš„é›†åˆ



## 2. å†™æ³•

```js 
let obj = {'name': 'frank','age':18}
//ç®€å†™å£°æ˜ä¸€ä¸ªå¯¹è±¡å¹¶èµ‹å€¼

let obj = new Object({'name':'frank'})
//å®Œæ•´å†™æ³•ï¼Œä½¿ç”¨æ„é€ å‡½æ•°å£°æ˜å¯¹è±¡å¹¶èµ‹å€¼

console.log({'name': 'frank','age':18})
//æ‰“å°è¾“å‡ºä¸€ä¸ªå¯¹è±¡
```

![1649855945906](JSå¯¹è±¡.assets\1649855945906.png)



 ## 3. è§„åˆ™

* é”®åæ˜¯**å­—ç¬¦ä¸²**ï¼Œä¸æ˜¯æ ‡è¯†ç¬¦ï¼Œå¯ä»¥åŒ…å«ä»»æ„å­—ç¬¦ï¼Œç©ºå­—ç¬¦ä¸²ã€ä¸­æ–‡ã€è¡¨æƒ…ã€ç©ºæ ¼ç­‰éƒ½å¯ä»¥
* å¼•å·å¯ä»¥çœç•¥ï¼Œçœç•¥ä¹‹åå°±åªèƒ½å†™æ ‡è¯†ç¬¦å’Œæ•°å­—
* å°±ç®—å¼•å·çœç•¥äº†ï¼Œé”®åä¹Ÿè¿˜æ˜¯å­—ç¬¦ä¸²
* æ•°å­—ä¹Ÿæ˜¯å­—ç¬¦ä¸²ï¼Œæ²¡æœ‰æ•°å­—é”®åå’Œæ•°å­—ä¸‹æ ‡ï¼Œéƒ½æ˜¯å­—ç¬¦ä¸²



## 4. ç»„æˆ

### ï¼ˆ1ï¼‰å±æ€§å

#### 1ï¼‰è§„åˆ™

* æ¯ä¸ªkeyéƒ½æ˜¯å¯¹è±¡çš„å±æ€§åï¼ˆpropertyï¼‰

* æ‰€æœ‰å±æ€§åä¼šè‡ªåŠ¨å˜æˆå­—ç¬¦ä¸²



#### 2ï¼‰ç‰¹æ®Šçš„key

* **æ•°å­—**åšå±æ€§å

  ```js
  let obj = {
      1:'a',
      3.2:'b',
      1e2:'c',
      .234:true,
      oxFF:true
  };
  Object.keys(obj)
  ["1","100","255","3.2","0.234","255"]
  ```

  > æƒ³ä¿ç•™åŸæœ‰å±æ€§åå°±åŠ å¼•å·



* **å˜é‡**åšå±æ€§å

  ```js
  let p1 = 'name'
  
  let obj = {p1 :'frank'}   //å±æ€§åä¸ºâ€˜p1â€™
  let obj = {[p1] : 'frank'}   //å±æ€§åä¸ºâ€˜nameâ€™
  let obj = {['p1']:'frank'}    //å±æ€§åä¸ºâ€˜p1â€™
  ```
```
  
  > ä¸åŠ []çš„å±æ€§åä¼šè‡ªåŠ¨å˜æˆå­—ç¬¦ä¸²
  >
  > åŠ []åˆ™ä¼šå½“åšå˜é‡æ±‚å€¼
  >
  > å€¼å¦‚æœä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå°±ä¼šè‡ªåŠ¨å˜æˆå­—ç¬¦ä¸²
  >
  > `obj.p1===obj['p1']`

 

* **symbol**åšå±æ€§å

â€‹```js
let a = Symbol()
let obj = {[a]:'hello'}
```



### ï¼ˆ2ï¼‰å±æ€§å€¼

æ¯ä¸ªvalueéƒ½æ˜¯å¯¹è±¡çš„å±æ€§å€¼ 



# äºŒã€å¢åˆ æ”¹æŸ¥   å¯¹è±¡çš„å±æ€§

## 1. åˆ 

```js
//åˆ é™¤å±æ€§å€¼
obj.xxx = undefined


//åˆ é™¤å±æ€§å
delete obj.xxx
delete obj['xxx']
//åˆ é™¤æ‰å±æ€§åä¼šåŒæ—¶åˆ é™¤objçš„xxxå±æ€§
```





## 2. æŸ¥ï¼ˆè¯»ï¼‰

### ï¼ˆ1ï¼‰æŸ¥çœ‹è‡ªèº«å±æ€§

```js
//æŸ¥çœ‹è‡ªèº«å±æ€§å
Object.keys(obj)

//æŸ¥çœ‹è‡ªèº«å±æ€§å€¼
Object.values(obj)

//æŸ¥çœ‹è‡ªèº«å±æ€§åå’Œå±æ€§å€¼
Object.entries(obj)
```

> ä»¥ä¸Šéƒ½æ˜¯ä»¥**æ•°ç»„**å½¢å¼æ‰“å°ï¼Œè¿™ç§æ–¹å¼ä¸ä¼šæ‰“å°å…±æœ‰å±æ€§



### ï¼ˆ2ï¼‰æŸ¥çœ‹æŸä¸ªå±æ€§æ˜¯å¦å­˜åœ¨

```js
'toString' in obj

obj.hasOwnProperty('toString')

'toString' in obj && !obj.hasOwnProperty('toString')
```

* `in`æŸ¥çœ‹æ˜¯å¦åœ¨objé‡Œï¼Œä½†æ˜¯ä¸èƒ½åˆ¤æ–­æ˜¯è‡ªèº«å±æ€§è¿˜æ˜¯å…±æœ‰å±æ€§
* `hasOwnProperty`å‡½æ•°å¯ä»¥åˆ¤æ–­æ˜¯å¦æ˜¯è‡ªèº«å±æ€§
* ä¸¤ä¸ªç»“åˆä¸€ä¸‹å°±å¯ä»¥åˆ¤æ–­æ˜¯è‡ªèº«æ•°å­—èƒ½å¤Ÿè¿˜æ˜¯å…±æœ‰å±æ€§



#### æ³¨æ„ç‚¹

`obj.xxx === undefined` å¹¶ä¸èƒ½åˆ¤æ–­æŸä¸ªå±æ€§æ˜¯å¦å­˜åœ¨ï¼Œå› ä¸ºæ²¡æœ‰è¯¥å±æ€§æ˜¯undefinedï¼Œè¯¥å±æ€§çš„å€¼å­˜åœ¨ä¸”å€¼ä¸ºundefinedä¹Ÿæˆç«‹

![1650191501899](JSå¯¹è±¡.assets\1650191501899.png)

### ï¼ˆ3ï¼‰æŸ¥çœ‹å•ä¸ªå±æ€§

```js
obj['key']

obj.key
```

> ä¼˜å…ˆä½¿ç”¨ä¸­æ‹¬å·è¯­æ³•ï¼Œç‚¹è¯­æ³•ä¼šè¯¯å¯¼ï¼Œä»¥ä¸ºkeyä¸æ˜¯å­—ç¬¦ä¸²
>
> æ³¨æ„åŒºåˆ†è¡¨è¾¾å¼æ˜¯å˜é‡è¿˜æ˜¯å¸¸é‡ã€‚
> å¦‚æœä½¿ç”¨ç‚¹è¯­æ³•ï¼Œé‚£ä¹ˆç‚¹åé¢ä¸€å®šæ˜¯ string å¸¸é‡ã€‚



#### åŒºåˆ†ç‚¹

é”™è¯¯è¯­æ³•ï¼š

`obj[key]`  å˜é‡keyå€¼ä¸€èˆ¬ä¸ä¸º'key'

* å¦‚æœä½¿ç”¨ [ ] è¯­æ³•ï¼Œé‚£ä¹ˆ JS ä¼šå…ˆæ±‚ [ ] ä¸­è¡¨è¾¾å¼çš„å€¼ï¼Œ

* obj.name ç­‰ä»·äº obj['name']ï¼Œä¸ç­‰ä»·ä¸obj[name]    nameæ˜¯å­—ç¬¦ä¸²è€Œä¸æ˜¯å˜é‡

  ```js
  let name = 'frank'
  
  obj[name] === obj['frank']
  ```

  

* **é¢˜ç›®**ï¼šä½¿personçš„æ‰€æœ‰å±æ€§è¢«æ‰“å°å‡ºæ¥ï¼Œlogé‡Œé¢å¡«ä»€ä¹ˆ

  é€‰é¡¹ï¼š

  1.person.name

  2.person[name]

  ```js
  let list = ['name','age','gender']
  let person = {name:'frank',age:18,gender:'man'}
  for(let i = 0; i < list.length; i++){
      let name = list[i]
      console.log()
  }
  ```

  æ­£ç¡®ä¸º2





## 3. å¢ã€æ”¹ï¼ˆå†™ï¼‰

æœ‰åˆ™æ”¹ï¼Œæ— åˆ™å¢

### ï¼ˆ1ï¼‰å•ä¸ªä¿®æ”¹

```js
let obj = {name:'frank'}  // nameæ˜¯å­—ç¬¦ä¸²


//èµ‹å€¼æ–¹å¼
obj.name = 'jack'    //nameæ˜¯å­—ç¬¦ä¸²

obj['name'] = 'jack'   

obj['na'+'me'] = 'jack'

let key = 'name';obj[key] = 'jack'  //keyæ˜¯å˜é‡ï¼Œå€¼ä¸º'name'
```

#### é”™è¯¯ç‚¹

```js
obj[name] = 'jack'    //é”™è¯¯ï¼Œnameæ˜¯å˜é‡ï¼Œå€¼ä¸ç¡®å®š

let key = 'name';obj.key = 'jack'  //é”™ï¼Œobj.key === obj['key']
```





### ï¼ˆ2ï¼‰æ‰¹é‡èµ‹å€¼

```js
Object.assign(obj,{age:18,gender:'man'})
```





# ä¸‰ã€JSå¯¹è±¡åˆ†ç±»

## 1. JSå¯¹è±¡ä¸ºä»€ä¹ˆåˆ†ç±»

å…ˆçœ‹ä¸€æ®µä»£ç ï¼š12ä¸ªæ­£æ–¹å½¢ï¼Œæœ‰å®½åº¦ã€å‘¨é•¿å’Œé¢ç§¯

* ç¬¬ä¸€ç‰ˆï¼š

  ```js
  let squareList = []
  let widthList = [5,6,5,6,5,6,5,6,5,6,5,6]
  
  for(let i = 0; i<12; i++){
      squareList[i] = {
          width:widthList[i],
          getArea(){
              return this.width * this.width
          },
          getLength(){
              return this.width * 4
          }
      }
  }
  ```

  > æµªè´¹å†…å­˜ï¼Œå¾ªç¯æ˜¯ï¼Œæ¯ä¸€æ¬¡éƒ½ä¼šæ–°ç”Ÿæˆä¸€ä¸ªå‡½æ•°ï¼Œä¸€å…±æœ‰24æ¬¡å‡½æ•°ï¼Œå…¶ä¸­22ä¸ªéƒ½æ˜¯é‡å¤çš„

  æš‚æ—¶å¯ä»¥è®¤ä¸ºthiså°±æ˜¯å½“å‰å¯¹è±¡



* å€ŸåŠ©åŸå‹ï¼ŒæŠŠå…±ç”¨çš„ä¸¤ä¸ªå‡½æ•°æ”¾åˆ°åŸå‹é‡Œ

  ```js
  let squareList = []
  let widthList = [5,6,5,6,5,6,5,6,5,6,5,6]
  
  let squarePrototype = {
      getArea(){
          return this.width * this.width
      },
      getLength(){
          return this.width * 4
      }
  }
  
  for(let i = 0; i<12; i++){
      squareList[i] = Object.create(squarePrototype)
      squareList[i].width = widthList[i]
  }
  ```

  > squareä»£ç å¤ªåˆ†æ•£äº†

  

* æŠŠä»£ç æŠ½ç¦»åˆ°ä¸€ä¸ªå‡½æ•°é‡Œï¼Œç„¶åè°ƒç”¨å‡½æ•°

  ```js
  let squareList = []
  let widthList = [5,6,5,6,5,6,5,6,5,6,5,6]
   
  //æ„é€ å‡½æ•°
  function createSquare(width){
    let obj = Object.create(squarePrototype)  //ä»¥squarePrototype ä¸ºåŸå‹åˆ›å»ºç©ºå¯¹è±¡
    obj.width = width
    return obj
  }
  
  let squarePrototype = {
      getArea(){
          return this.width * this.width
      },
      getLength(){
          return this.width * 4
      }
  }
  for(let i = 0; i<12; i++){
      squareList[i] = createSquare(widthList[i]) 
  }
  ```

  > squarePrototypeåŸå‹å’ŒcreateSquareå‡½æ•°è¿˜æ˜¯åˆ†æ•£çš„



* å‡½æ•°å’ŒåŸå‹ç»“åˆ

  ```js
  let squareList = []
  let widthList = [5,6,5,6,5,6,5,6,5,6,5,6]
   
  //æ„é€ å‡½æ•°
  function createSquare(width){
    let obj = Object.create(createSquare.squarePrototype)  //è¿™é‡Œæ˜¯å…ˆä½¿ç”¨åå®šä¹‰å—ï¼Ÿ
    obj.width = width
    return obj
  }
  
  createSquare.squarePrototype = {  //æŠŠåŸå‹æ”¾åˆ°å‡½æ•°ä¸Š
      getArea(){
          return this.width * this.width
      },
      getLength(){
          return this.width * 4
      },
      constructor:createSquare  //æ–¹ä¾¿é€šè¿‡åŸå‹æ‰¾åˆ°æ„é€ å‡½æ•°
  }
  for(let i = 0; i<12; i++){
      squareList[i] = createSquare(widthList[i]) 
  }
  ```

  > `console.log(squareList[i].constructor)`å¯ä»¥çŸ¥é“æ”¹å¯¹è±¡æ˜¯ç”±è°æ„é€ çš„



* æŠŠä»¥ä¸Šé€»è¾‘å›ºå®šåœ¨new æ“ä½œç¬¦ä¸­

  ```js
  let squareList = []
  let widthList = [5,6,5,6,5,6,5,6,5,6,5,6]
   
  //æ„é€ å‡½æ•°
  function Square(width){
    this.width = width
  }
  //åœ¨åŸå‹ä¸Šæ·»åŠ å…±æœ‰å±æ€§ï¼Œä¹Ÿå¯ä»¥æ‰¹é‡æ·»åŠ 
  Square.prototype.getArea = function(){
      return this.width * this.width
  }
  Square.prototype.getLength(){
      return this.width * 4
  }
  
  for(let i = 0; i<12; i++){
      squareList[i] = new Square(widthList[i]) 
  }
  ```

  

* æœ€ç»ˆç‰ˆä»£ç ?

  æ„é€ å‡½æ•°

  ```js
  function Square(width){
      this.width = width
  }
  Square.prototype.getArea = function(){
      return this.width * this.width
  }
  Square.prototype.getLength = function(){
      return this.width * 4
  }
  
  let square = new Square(5)
  
  square.width
  square.getArea()
  square.getLength()
  ```

  

  **this**æ˜¯æ„é€ å‡ºæ¥çš„å®ä¾‹å¯¹è±¡ï¼Œåœ¨è¢«æ„é€ ä¹‹å‰ä¸çŸ¥é“å«ä»€ä¹ˆï¼Œthisæ¥ä»£æ›¿

  

* class é‡å†™

  ```js
  class Square{
     // static x = 1
      width = 0
      constructor(width){
          this.width = width
      }
      getArea(){
          return this.width*this.width
      }
      getLength(){
          return this.width*4
      }
  }
  
  let square = new Square(5)
  square.width
  square.getArea()
  square.getLength()
  ```





classè¯­æ³•

  è¯­æ³•1ï¼š

  ```js
  class Person{
      sayHi(name){}
      // æ³¨æ„ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¸åœ¨è¿™ä¸ªè¯­æ³•é‡Œä½¿ç”¨ç®­å¤´å‡½æ•°
  }
  
  
  //ç­‰ä»·äº
  function Person(){}
  Person.prototype.sayHi = function(name){}
  ```

  è¯­æ³•2ï¼š

  ```js
  class Person{
    sayHi = (name)=>{} // æ³¨æ„ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¸åœ¨è¿™ä¸ªè¯­æ³•é‡Œä½¿ç”¨æ™®é€šå‡½æ•°ï¼Œå¤šç”¨ç®­å¤´å‡½æ•°
  }
  
  
  // ç­‰ä»·äº
  function Person(){
      this.sayHi = (name)=>{}
  }
  ```

è¯­æ³•1å’Œè¯­æ³•2çš„åŒºåˆ«åœ¨äºä¸€ä¸ªä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä¸€ä¸ªä½¿ç”¨æ™®é€šå‡½æ•°

ç®­å¤´å‡½æ•°æ²¡æœ‰thisï¼Œæ‰€ä»¥ä¸ä¼šæŒ‚åˆ°æ„é€ å‡½æ•°çš„prototypeå±æ€§ä¸Šï¼Œè€Œæ˜¯ä¼šç›´æ¥æŒ‚åˆ°æ–°ç”Ÿæˆçš„å¯¹è±¡ä¸Š

![1650193494270](JSå¯¹è±¡.assets\1650193494270.png)







## 2. JSå¯¹è±¡åˆ†ç±»

å¯¹è±¡éœ€è¦åˆ†ç±»ï¼š

* æœ‰å¾ˆå¤šå¯¹è±¡æ‹¥æœ‰ä¸€æ ·çš„å±æ€§å’Œè¡Œä¸ºï¼Œéœ€è¦æŠŠå®ƒä»¬åˆ†ä¸ºåŒä¸€ç±»ï¼Œåˆ›å»ºç±»ä¼¼å¯¹è±¡å°±å¾ˆæ–¹ä¾¿

* ä½†æ˜¯è¿˜æœ‰å¾ˆå¤šå¯¹è±¡æ‹¥æœ‰å…¶ä»–çš„å±æ€§å’Œè¡Œä¸ºï¼Œæ‰€ä»¥å°±éœ€è¦ä¸åŒçš„åˆ†ç±»
  * æ¯”å¦‚ Array ã€Function ã€Dateã€RegExpç­‰

* Objectåˆ›å»ºå‡ºæ¥çš„å¯¹è±¡æ˜¯æœ€æ²¡ç‰¹ç‚¹çš„å¯¹è±¡



ç±»æ˜¯é’ˆå¯¹äºå¯¹è±¡çš„åˆ†ç±»ï¼Œæœ‰æ— æ•°ç§









## 3. new

new X() åšäº†å››ä»¶äº‹ï¼š

* åˆ›å»ºç©ºå¯¹è±¡

* ä¸ºç©ºå¯¹è±¡å…³è”åŸå‹ï¼ŒåŸå‹åœ°å€æŒ‡å®šä¸º `X.prototype`

* å°†ç©ºå¯¹è±¡ä½œä¸º**`this`**å…³é”®å­—è¿è¡Œæ„é€ å‡½æ•°

* `return this







# å››ã€æ•°ç»„å¯¹è±¡

## 1. JSæ•°ç»„å®šä¹‰

JSå…¶å®æ²¡æœ‰çœŸæ­£çš„æ•°ç»„ï¼Œåªæ˜¯ç”¨å¯¹è±¡æ¨¡æ‹Ÿæ•°ç»„

JSçš„æ•°ç»„ä¸æ˜¯å…¸å‹æ•°ç»„



* å…¸å‹çš„æ•°ç»„ï¼š
  * å…ƒç´ çš„æ•°æ®ç±»å‹ç›¸åŒ
  * ä½¿ç”¨è¿ç»­çš„å†…å­˜å­˜å‚¨
  * é€šè¿‡æ•°å­—ä¸‹æ ‡è·å–å…ƒç´ 



* JSæ•°ç»„

  * å…ƒç´ çš„æ•°æ®ç±»å‹å¯ä»¥ä¸åŒ

  * å†…å­˜ä¸ä¸€å®šæ˜¯è¿ç»­çš„ï¼ˆå¯¹è±¡æ˜¯éšæœºå­˜å‚¨çš„ï¼‰

  * ä¸èƒ½é€šè¿‡æ•°å­—ä¸‹æ ‡ï¼Œè€Œæ˜¯é€šè¿‡å­—ç¬¦ä¸²ä¸‹æ ‡

  * è¿™æ„å‘³ç€å¯ä»¥æœ‰ä»»ä½•key

    > é€šè¿‡æ•°å­—å–åˆ°æ•°ç»„å…ƒç´ æ˜¯å› ä¸ºJSä¼šè°ƒç”¨1.toStringæ–¹æ³•å…ˆå˜æˆå­—ç¬¦ä¸²å†ä¼ è¿›å»
    >
    > ```js
    > let arr = [1,2,3]
    > arr[(1).toString()] ===  arr[1]
    > arr['xxx'] = 1
    > ```



![1650195144580](JSå¯¹è±¡.assets\1650195144580.png)



> æœ‰ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆ`for`éå†å’Œç›´æ¥æ‰“å‡º`arr`ï¼Œæ•°ç»„çš„`length`éƒ½ä¸º`3`ï¼Œä½†æ˜¯ç”¨`Object.keys()`æ‰“å°å‡º`keys`å°±æœ‰å››ä¸ªå‘¢ï¼Ÿ
>
> â€‹        ç­”ï¼šæœ€åæ·»åŠ çš„`'xxx'`æ˜¯ä¸ºarræ·»åŠ çš„ä¸€ä¸ªå±æ€§ï¼Œè€Œä¸æ˜¯è¡¨ç¤ºå­˜å‚¨é¡ºåºçš„ä¸‹æ ‡ï¼Œæ‰€ä»¥ï¼Œä¸‹æ ‡çš„0ã€1ã€2ã€3ç­‰æ˜¯ä¸èƒ½æ›´æ”¹çš„ï¼Œæ‰€ä»¥`keys`æœ‰å››ä¸ªï¼Œä½†æ˜¯`length`æ²¡æœ‰å¢åŠ 







## 2. åˆ›å»ºæ•°ç»„

### ï¼ˆ1ï¼‰å£°æ˜ä¸€ä¸ªæ•°ç»„

```js
let arr = [1,2,3]

let arr = new Array(1,2,3) // å…ƒç´ ä¸º1,2,3ï¼Œæ˜¯ä¸Šä¸€å¥çš„æ­£è§„å†™æ³•

let arr = new Array(3)   //é•¿åº¦ä¸º3
```





### ï¼ˆ2ï¼‰è¡ç”Ÿä¸€ä¸ªæ•°ç»„

```js
//åˆå¹¶
arr1.concat(arr2)

//æˆªå–
arr1.slice(1)  //ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹æˆªå–
arr1.slice(0)  // å…¨éƒ¨æˆªå–ï¼Œå¤åˆ¶ä¸€ä¸ªæ•°ç»„
```

* ä»¥ä¸Šä¸¤ç§æ–¹æ³•éƒ½ä¸ä¼šæ”¹å˜åŸæ•°ç»„ï¼Œåªä¼šç”Ÿæˆæ–°æ•°ç»„
* JSåªæä¾›**æµ…æ‹·è´**



### ï¼ˆ3ï¼‰è½¬åŒ–ä¸€ä¸ªæ•°ç»„

* **`split()`**åˆ†éš”ï¼Œä½¿ç”¨**å­—ç¬¦ä¸²**åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œ

  ```js
  let arr = '1,2,3'.split(',')
  
  let arr = '1,2,3'.split('') //ç©ºå­—ç¬¦ä¸²
  ```

  ![1650196472188](JSå¯¹è±¡.assets\1650196472188.png)





* **`Array.from()`**è½¬åŒ–

  æŠŠä¸æ˜¯æ•°ç»„çš„ä¸œè¥¿å°è¯•å˜æˆæ•°ç»„

  ä»å“ªé‡Œå¾—åˆ°ä¸€ä¸ªæ•°ç»„

  å¹¶ä¸æ˜¯éƒ½å¯ä»¥å˜æˆæ•°ç»„ï¼Œè¦æœ‰ä¸€å®šçš„æ¡ä»¶ï¼š

  * ä¸€ä¸ªå¯¹è±¡æœ‰`0,1,2,3`ï¼Œè¿™æ ·çš„ä¸‹æ ‡å’Œ`length`å°±å¯ä»¥å˜æˆæ•°ç»„

```js
//æ•°å­—
Arrey.from(123)        //F

//å­—ç¬¦ä¸²
Arrey.from('123')     //T
Arrey.from('name')    //T

//å¸ƒå°”
Array.from(true)      //F

//å¯¹è±¡
Array.fron({0:'a',1:'b',2:'c'})             //F
Array.fron({0:'a',1:'b',2:'c',length:3})    //T
```

 



### ä¼ªæ•°ç»„

* æ²¡æœ‰æ•°ç»„å…±æœ‰å±æ€§çš„æ•°ç»„å°±æ˜¯ä¼ªæ•°ç»„

  ï¼ˆä¼ªæ•°ç»„çš„åŸå‹é“¾ä¸­å¹¶æ²¡æœ‰æ•°ç»„çš„åŸå‹ï¼‰

  ```html
  <body>
      <div>1</div>
      <div>2</div>
      <div>3</div>
  </body>
  ```

  ```js
  let divList = document.querySelectorAll('div')
  console.log(divList)
  ```

  ä¼šå‘ç°æ˜¯æ•°ç»„çš„å½¢å¼ï¼Œä½†æ˜¯ç‚¹çœ‹å¹¶æ²¡æœ‰æ•°ç»„çš„æ–¹æ³•ï¼Œä½¿ç”¨pushã€popç­‰æ•°ç»„æ–¹æ³•ä¼šæŠ¥é”™

  ![1650203391857](JSå¯¹è±¡.assets\1650203391857.png)

  åªæ˜¯åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œæ²¡æœ‰æ„å»ºæ•°ç»„çš„åŸå‹

  

* ä½¿ç”¨`Array.from`è‡ªå·±æ„å»º

  `let divArray = Array.from(divList)`

  æ‰“å°å‡º`divArray`å°±ä¼šæœ‰æ•°ç»„çš„åŸå‹é“¾

  ![1650203303187](JSå¯¹è±¡.assets\1650203303187.png)





## 3. å¢åˆ æ”¹æŸ¥æ•°ç»„ä¸­çš„å…ƒç´ 

### ï¼ˆ1ï¼‰åˆ 

#### 1ï¼‰æ¨èç”¨æ³•

```js
//åˆ é™¤å¤´éƒ¨å…ƒç´ 
arr.shift ()     //ææ¡£

//åˆ é™¤å°¾éƒ¨å…ƒç´ 
arr.pop()  //å¼¹å‡º

//åˆ é™¤ä¸­é—´å…ƒç´ 
arr.splice(index,1)            //åˆ é™¤indexå¤„çš„ä¸€ä¸ªå…ƒç´ 
arr.splice(index,2,'x')        //åˆ é™¤indexå¤„çš„2ä¸ªå…ƒç´ å¹¶åœ¨åˆ é™¤ä½ç½®æ·»åŠ â€˜xâ€™
arr.splice(index,1,'x','y')    //åœ¨åˆ é™¤ä½ç½®æ·»åŠ â€˜xâ€™å’Œâ€˜yâ€™
```

* ä»¥ä¸Šä¸‰ç§æ–¹æ³•**è¿”å›**çš„éƒ½æ˜¯è¢«åˆ å…ƒç´ 
* `arr.shift()`å’Œ`arr.pop()`ä¸æ¥å—å‚æ•°ï¼Œåªåˆ é™¤ä¸€ä¸ªå…ƒç´ 



####  2ï¼‰ä¸æ¨èçš„æ–¹æ³•

å¯ä»¥åˆ é™¤ï¼Œä¼šæœ‰ä¹ æƒ¯ä½¿ç”¨åˆ°ä»¥ä¸‹æ–¹æ³•ï¼Œä½†ä¸æ¨èä½¿ç”¨

* ä½¿ç”¨å¯¹è±¡çš„æ–¹æ³•ï¼š`delete`

  ```js
  let arr = ['a','b','c']
  delete arr['0']
  arr          //[empty,'b','c'],length:3
  ```

  * æ•°ç»„çš„é•¿åº¦å¹¶æ²¡æœ‰å˜

  * ç¨€ç–æ•°ç»„ ï¼šé•¿åº¦æ¯”å…ƒç´ å¤šï¼Œæ²¡æœ‰å¥½å¤„ï¼Œåªæœ‰bug

  

* é€šè¿‡æ”¹`length`åˆ å…ƒç´ 

  `arr.length = 1`

  æ˜¯å¯ä»¥çš„

  ä¼šä»æ•°ç»„å°¾éƒ¨åˆ é™¤è¶…å‡ºlengthçš„å…ƒç´ 





### ï¼ˆ2ï¼‰æŸ¥

#### 1ï¼‰éå†

##### â‘  for

```js
for (let i = 0; i < arr.length; i++){
    console.log(`${i}:${arr[i]}`)
}
```



##### â‘¡forEach

```js
arr.forEach(function(item,index){
    console.log(`${index}:${item}`)
})
```

* ç†è§£forEach

  æ‰‹å†™forEach

  ```js
  function forEach(array,fn){
      for(let i=0;i<array.length;i++){
          fn(array[i],i,array)
      }
  }
  
  forEach(['a','b','c'],function(x,y,z){console.log(x,y,array)})
  ```

  forEachç”¨forè®¿é—®arrayçš„æ¯ä¸€é¡¹

  å¯¹æ¯ä¸€é¡¹è°ƒç”¨fn(array[i],i,array)



##### â‘¢forå’ŒforEachåŒºåˆ«

* foræ˜¯ä¸ªå…³é”®å­—ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§

  è·Ÿç€å—çº§ä½œç”¨åŸŸ

  foré‡Œé¢æœ‰breakå’Œcontinue



* foreachåªæ˜¯ä¸ªå‡½æ•°

  è·Ÿç€å‡½æ•°ä½œç”¨åŸŸ



#### 2ï¼‰å•ç‹¬æŸ¥æ‰¾/æŸ¥çœ‹

```js
//æŸ¥çœ‹å•ä¸ªå±æ€§
let arr = [111,222,333]
arr[0]


//æŸ¥æ‰¾æŸä¸ªå…ƒç´ æ˜¯å¦åœ¨æ•°ç»„é‡Œ
arr.indexOf(item)   //å­˜åœ¨è¿”å›ç´¢å¼•ï¼Œå¦åˆ™è¿”å›-1


//æ¡ä»¶æŸ¥æ‰¾
arr.find(item=>item%2 === 0)   //æ‰¾ç¬¬ä¸€ä¸ªå¶æ•°
arr.findIndex(item => item%2 === 0)// æ‰¾ç¬¬ä¸€ä¸ªå¶æ•°çš„ç´¢å¼•
```

`find()`å’Œ`findIndex()`éƒ½åªä¼šè¿”å›æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ª



#### 3ï¼‰ä¸æ¨èçš„æ–¹æ³•

å¯ä»¥æŸ¥æ‰¾/æŸ¥çœ‹ï¼Œä¼šæœ‰ä¹ æƒ¯ä½¿ç”¨åˆ°ä»¥ä¸‹æ–¹æ³•ï¼Œä½†ä¸æ¨èä½¿ç”¨

* å¯¹è±¡æ–¹æ³•æŸ¥çœ‹æ‰€æœ‰å±æ€§åå’Œå€¼

  ```js
  let arr = [1,2,3,4,5];arr.x = 'xxx'
  
  Object.keys(arr)      //['0','1','2','3','4','5','x']
  Object.values(arr)     //[1,2,3,4,5,'xxx']
  ```

  

* `for(letâ€¦inâ€¦){}`

  ```js
  for(let key in arr){
      console.log(`${key}:${arr[key]}`)
  }
  ```

  

ä¸é€‚ç”¨ï¼Œä»¥ä¸Šä¸¤ç§æ–¹æ³•éƒ½ä¼šæŠŠå±æ€§ä»¥åŠç´¢å¼•éƒ½æ‰¾å‡ºæ¥



* ç´¢å¼•è¶Šç•Œ

  ä½¿ç”¨å¹¶ä¸å­˜åœ¨çš„ç´¢å¼•

  ä¸¾ä¾‹ï¼š

  * `arr[arr.length]  === undefined`

  * `arr[-1] === undefined`

    ```js
    for(let i= 0;i<=arr.length;i++){
        console.log(arr[i].toString())
    }
    ```

    æŠ¥é”™`Cannot read property 'toString'of undefined`

    æ„æ€æ˜¯è¯»å–äº†`undefined`çš„`toString`å±æ€§ï¼Œ`x.toString()`å…¶ä¸­`x`å¦‚æœæ˜¯`undefined`å°±æŠ¥è¿™ä¸ªé”™

  `arr[index]`æœ€å¤§åªèƒ½åˆ°`arr.length-1`,`index`æ˜¯ä»`0`å¼€å§‹çš„









### ï¼ˆ3ï¼‰å¢

#### 1ï¼‰æ¨èç”¨æ³•

```js
//å°¾éƒ¨
arr.push(newItem) 
arr.push(item1,item2)   


//å¤´éƒ¨
arr.unshift(newItem)
arr.unshift(item1,item2)


//ä¸­é—´
arr.splice(index,0,'x')
arr.splice(index,0,'x','y')
```

`arr.push()`å’Œ`arr.unshift()`éƒ½ä¼šä¿®æ”¹arrï¼Œè¿”å›æ–°é•¿åº¦



#### 2ï¼‰ä¸æ¨èç”¨æ³•

`arr[x]= 'x' `( å•ä¸ªå…ƒç´ å•ç‹¬èµ‹å€¼ï¼‰

ä¸æ¨èè¿™æ ·åŠ ï¼Œå› ä¸ºå¦‚æœæ”¹ä¸€ä¸ªè¾ƒå¤§çš„æ•°å­—ï¼Œå°±ç›´æ¥lengthä¹Ÿä¼šå˜å¾ˆå¤§,å°±ææˆç³»æ•°æ•°ç»„äº†

![1650208303412](JSå¯¹è±¡.assets\1650208303412.png)



### ï¼ˆ4ï¼‰æ”¹

#### 1ï¼‰reverse

åè½¬é¡ºåº

`arr.reverse()`

![1650212873011](JSå¯¹è±¡.assets\1650212873011.png)

ä¿®æ”¹äº†åŸæ¥çš„æ•°ç»„ï¼Œå¹¶æ²¡æœ‰ç”Ÿæˆæ–°çš„æ•°ç»„ï¼Œè¿”å›ä¿®æ”¹åçš„æ–°æ•°ç»„

* é¢˜ç›®ï¼šæŠŠå­—ç¬¦ä¸²åè½¬

  ```js
  let s = 'abcdef'
  s.split('').reverse().join('')
  ```

  

#### 2ï¼‰sort

è‡ªå®šä¹‰é¡ºåº

`arr.sort()`

æ¥å—ä¸€ä¸ªå‡½æ•°ï¼ŒæŒ‡å®šæ¯”è¾ƒæ–¹æ³•

å¯ä»¥å¯¹**æ•°ç»„**å†…ä»»æ„å¯ä»¥ç”¨**æ•°å€¼**è¡¨ç¤ºçš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒ

sorté»˜è®¤ä¼šé€šè¿‡**ASCII**ç è¿›è¡Œå…ˆåæ’åº

**ä¿®æ”¹**äº†åŸæ¥çš„æ•°ç»„ï¼Œä¸ä¼šç”Ÿæˆæ–°çš„æ•°ç»„ï¼Œè¿”å›ä¿®æ”¹åçš„æ•°ç»„

* å¯ä»¥ä½¿ç”¨**b-a**çš„æ–¹å¼è¿›è¡Œä»å¤§åˆ°å°çš„æ’åº

* å¯ä»¥é€šè¿‡å‡½æ•°ï¼Œç»™å…ƒç´ èµ‹å€¼ï¼ŒæŒ‡å®šæ¯”è¾ƒæ–¹æ³•

```js
let arr = [4,2,7,9,1]
arr.sort()  //[1,2,4,7,9]

arr.sort(function(a,b){
    if(a>b){
        return 1
    }else if(a === b){
        return 0
    }else{
        return -1
    }
}) // ç»™å®šå‚è€ƒå€¼ï¼Œä»å°åˆ°å¤§æ’åºï¼Œç­‰ä»·äº
arr.sort((a,b) => a-b)

//ä»å¤§åˆ°å°
arr.sort((a,b) => b-a)
```





* å¯¹è±¡ä¸­çš„æ•°å€¼è¿›è¡Œæ¯”è¾ƒ

```js 
let arr = [{name:'å°çº¢',score:95},{name:'å°æ˜',score:98},{name:'å°å…°',score:100}]

arr.sort(function(a,b){
    if(a.score>b.score){
        return 1
    }else if(a.score === b.score){
        return 0
    }else{
        return -1
    }
})//ç­‰ä»·äº
arr.sort((a,b)=>a.scaor-b.score)
```





* å­—ç¬¦ä¸²æŒ‰é•¿åº¦æ’åº

```js
let s = ['abcde','abcdeffg']
s.sort((a,b)=>a.length-b.length)
```





* å­—ç¬¦ä¸²æŒ‰å…ˆåé¡ºåºæ’åºï¼ˆASCIIç ï¼‰

```js
let s = 'gsjgaklk'
Array.from(s).sort().join('').toString()
```





#### 3ï¼‰map

æä¾›ä¸€ä¸€å¯¹åº”çš„æ˜ å°„å…³ç³»

nå˜n

è¿”å›æ–°æ•°ç»„ï¼Œ**ä¸æ”¹å˜**åŸæ•°ç»„

```js
let arr = [1,2,3,4,5,6,7]
arr.map(item => item*item)

//ä¸€ä¸€å¯¹åº”ï¼Œè¿”å›å¹³æ–¹
```





#### 4ï¼‰filter

nå˜å°‘

è¿”å›æ–°æ•°ç»„ï¼Œ**ä¸æ”¹å˜**åŸæ•°ç»„

åˆ¤æ–­çœŸå‡ï¼ŒçœŸè¿”å›ï¼Œå‡ä¸¢å¼ƒ

```js
arr.filter(item => item %2 === 0)   

//è¿”å›å¶æ•°
```





#### 5ï¼‰reduce

nå˜1

è¿”å›æ–°æ•°ç»„ï¼Œ**ä¸æ”¹å˜**åŸæ•°ç»„

`reduce` æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºå‡½æ•°ï¼Œè¡¨ç¤ºæƒ³è¦å¦‚ä½•å åŠ ï¼Œç¬¬äºŒä¸ªä¸ºreduceçš„åˆå§‹å€¼

```js
arr.reduce((sum,item)=>{return sum+item},0)

//è¿”å›æ•°ç»„ä¸­å„å€¼çš„å’Œ
```



* `reduce`æ›¿æ¢`map`

  ```js
  arr.reduce((result,item) => {return result.concat(item*item)},[])
  ```

  > `push `ä»£æ›¿`concat`æ˜¯ä»€ä¹ˆç»“æœ?
  >
  > ä¼šæŠ¥é”™ï¼Œå› ä¸º`push`è¿”å›çš„æ˜¯æ•°ç»„çš„é•¿åº¦ï¼Œè€Œä¸æ˜¯æ•°ç»„ï¼Œä¸èƒ½å¾ªç¯pushï¼Œç¬¬äºŒæ¬¡pushå°±æ˜¯`é•¿åº¦.push()``
  >
  > ``concat`è¿”å›çš„æ˜¯æ–°æ•°ç»„

  

  

* `reduce`æ›¿æ¢`filter`

  ```js
  arr.reduce((result,item)=>result.concat(item %2 === 0 ? [] : item),[])
  //ç­‰ä»·äº
  arr.reduce((result,item)=>{
      if (item %2 === 0){
          return result
      }else {
          return result.concat(item)
      }
  },[])
  ```

  

#### 6ï¼‰åŸºç¡€å†™æ³•

å¯¹å·²æœ‰çš„å…ƒç´ ç›´æ¥è¿›è¡Œä¿®æ”¹

`arr[1] = 666 `

 





## 4. é¢˜ç›®ï¼š

### ï¼ˆ1ï¼‰æ•°å­—å˜æ—¥æœŸ

```js
let arr = [0,1,2,2,3,3,3,4,4,4,4,6]
let arr2 = arr.map(è¡¥å…¨ä»£ç )
console.log(arr2) // ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨ä¸‰', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨å››', 'å‘¨å››', 'å‘¨å››','å‘¨å…­']
```



ç­”ï¼š

* switch case

  ```js
  let arr = [0,1,2,2,3,3,3,4,4,4,4,6]
  let arr2 = arr.map(a=>{
      switch(a){
          case 0:
              return "å‘¨æ—¥";
              break;
          case 1:
              return "å‘¨ä¸€";
              break;
          case 2:
              return "å‘¨äºŒ";
              break;
          case 3:
              return "å‘¨ä¸‰";
              break;
          case 4:
              return "å‘¨å››";
              break;
          case 5:
              return "å‘¨äº”";
              break;
          case 6:
              return "å‘¨å…­";
              break;    
     }
  })
  console.log(arr2)
  ```

* å¯¹è±¡

  ```js
  let arr = [0,1,2,2,3,3,3,4,4,4,4,6]
  
  
  let arr2 = arr.map( (a)  => {return{0:'å‘¨æ—¥',1:'å‘¨ä¸€',2:'å‘¨äºŒ',3:'å‘¨ä¸‰',4:'å‘¨å››',5:'å‘¨äº”',6:'å‘¨å…­'}[a]})
  
  //ç­‰ä»·äº
  
  let arr2 = arr.map(a =>{
      const day = {0:'å‘¨æ—¥',1:'å‘¨ä¸€',2:'å‘¨äºŒ',3:'å‘¨ä¸‰',4:'å‘¨å››',5:'å‘¨äº”',6:'å‘¨å…­'}
      return day[a]
  })
  
  
  console.log(arr2)
  ```

  ```js
  let arr = [0,1,2,2,3,3,3,4,4,4,4,6]
  let arr2 = arr.map(a =>{
      const day = {0:'å‘¨æ—¥',1:'å‘¨ä¸€',2:'å‘¨äºŒ',3:'å‘¨ä¸‰',4:'å‘¨å››',5:'å‘¨äº”',6:'å‘¨å…­'}
      return day[a]
  })
  console.log(arr2)
  ```

  ```js
  let arr = [0,1,2,2,3,3,3,4,4,4,4,6]
  
  let obj ={
    0:"å‘¨æ—¥",
    1:"å‘¨ä¸€",
    2:"å‘¨äºŒ",
    3:"å‘¨ä¸‰",
    4:"å‘¨å››",
    5:"å‘¨äº”",
    6:"å‘¨å…­",
  }
  
  let arr2 = arr.map((item)=> obj[item])
  console.log(arr2) 
  ```

  

> å¯¹äºè¿™é“é¢˜çš„ä¸€äº›æƒ³æ³•ï¼š
>
> â€‹        çœ‹åˆ°é¢˜ç›®çš„ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„æ˜¯æ•°å­—Numberè½¬æ¢æˆæ—¥æœŸDateï¼Œ
>
> â€‹        Dateä¸­æœ‰ä¸ªgetDay()æ–¹æ³•å¯ä»¥è¿”å›æ˜ŸæœŸï¼Œ
>
> â€‹       ç”¨åˆ°è¿™ä¸ªæ–¹æ³•çš„å‰ææ˜¯æŠŠæ•°å­—æ¢æˆæ—¥æœŸï¼Œä½†æ˜¯å•ä¸ªçš„æ•°å­—æ€ä¹ˆå˜æˆæ—¥æœŸï¼Ÿ
>
> â€‹       `getDay()`è¿”å›æ˜ŸæœŸçš„æ–¹æ³•æ˜¯è¦æœ‰å…·ä½“çš„æ—¥æœŸï¼Œæ¯”å¦‚1995.11.25è¿™å¤©æ˜¯æ˜ŸæœŸå‡ 
>
> â€‹       æ‰€ä»¥è¿™ä¸ªæ–¹æ³•ä¸é€‚ç”¨
>
> â€‹       æ‰€ä»¥ï¼Œè¿™ä¸ªé—®é¢˜å°±ä¸æ˜¯æ•°å­—æ¢æˆæ—¥æœŸï¼Œè€Œæ˜¯æ•°ç»„ä¸­å…ƒç´ ä¸€ä¸€å¯¹åº”å­—ç¬¦ä¸²è¿›è¡Œè¾“å‡º
>
> â€‹       è€Œè¦åšçš„å°±æ˜¯æ•°ç»„ä¸­çš„å…ƒç´ ä¸å­—ç¬¦ä¸²å¦‚ä½•å¯¹åº”







### ï¼ˆ2ï¼‰æ‰¾å‡ºæ‰€æœ‰å¤§äº60åˆ†çš„æˆç»©

```js
let scores = [95,91,59,55,42,82,72,85,67,66,55,91]
let scores2 = scores.filter(è¡¥å…¨ä»£ç )
console.log(scores2) //  [95,91,82,72,85,67,66, 91]
```



ç­”ï¼š

```js
let scores = [95,91,59,55,42,82,72,85,67,66,55,91]
let scores2 = scores.filter(i => i>60)
console.log(scores2) 
```





### ï¼ˆ3ï¼‰ç®—å‡ºæ‰€æœ‰å¥‡æ•°ä¹‹å’Œ

```js
let scores = [95,91,59,55,42,82,72,85,67,66,55,91]
let sum = scores.reduce((sum, n)=>{
  è¡¥å…¨ä»£ç 
},0)
console.log(sum) // å¥‡æ•°ä¹‹å’Œï¼š598 
```



ç­”ï¼š


```js
let scores = [95,91,59,55,42,82,72,85,67,66,55,91]
let sum = scores.reduce((sum, n)=>{
    if(n%2 !== 0){
        sum +=n
    }
    return sum
},0)
console.log(sum) 
```

```js
let scores = [95,91,59,55,42,82,72,85,67,66,55,91]
let sum = scores.reduce((sum, n)=>{return n%2 !== 0 ? sum + n : sum},0)
console.log(sum) 
```







### ï¼ˆ4ï¼‰æ•°æ®å˜æ¢

```js
let arr = [
    {åç§°:'åŠ¨ç‰©', id:1, parent:null}
    {åç§°:'ç‹—', id:2, parent:1}
    {åç§°:'çŒ«', id:3, parent:1}
]
```

æ•°ç»„å˜æˆå¯¹è±¡

```js
{
    id:1, åç§°:'åŠ¨ç‰©',children[
        {id:2, åç§°:'ç‹—', children:null},
        {id:3, åç§°:'çŒ«',children:null}
    ]
}
```

è§£è¯»é¢˜ç›®ï¼š

æ•°ç»„ä¸­æœ‰ä¸‰ä¸ª**ç‹¬ç«‹**å¯¹è±¡ï¼Œä¸‰ä¸ªå¯¹è±¡äº’ç›¸å…³è”ï¼Œä¸€ä¸ªçˆ¸çˆ¸ï¼Œä¸¤ä¸ªå„¿å­ï¼Œå„æœ‰åç§°ä»¥åŠidæŒ‡ä»£**è‡ªå·±**ï¼Œ**parent**å±æ€§æŒ‡å‘çˆ¸çˆ¸

è½¬æ¢åå¾—åˆ°çš„æ˜¯**ä¸€ä¸ªå¯¹è±¡**ï¼Œçˆ¶å¯¹è±¡ä¸­æœ‰ä¸ª**æ•°ç»„**ï¼Œæ•°ç»„ä¸­åˆ†åˆ«æ˜¯ä¸¤ä¸ªå„¿å­å¯¹è±¡ï¼ŒåŒæ—¶æ²¡æœ‰äº†**parent**å±æ€§ï¼Œè€Œæ˜¯æœ‰äº†**children**å±æ€§ï¼Œå„¿å­æ•°ç»„å°±**åœ¨**childrenå±æ€§ä¸­

ä¸‰ä¸ªå˜ä¸€ä¸ªï¼Œç”¨reduce



ç­”ï¼š

```js
let arr = [
    {åç§°:'åŠ¨ç‰©', id:1, parent:null}
    {åç§°:'ç‹—', id:2, parent:1}
    {åç§°:'çŒ«', id:3, parent:1}
]

let animal = arr.reduce((result,i)=>{
    if(i.parent === null){
        result.id = i.id
        result['åç§°'] = i['åç§°']
    }else{
        result.children.push(i)
        delete i.parent
        i.children = null
        
    }
    return result
},{id:null,åç§°:null,children:[]})

console.log(animal)
```



![1650263063016](JSå¯¹è±¡.assets\1650263063016.png)

ä¸ºä»€ä¹ˆæ•°ç»„ä¸­çš„åç§°åœ¨å‰ï¼Œidåœ¨åå‘¢ï¼Œè¿™ä¸ªæ•°ç»„æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªåµŒå¥—çš„reduceå®ç°å ä½ï¼Œè®©idåœ¨å‰ï¼Œåç§°åœ¨åå‘¢ï¼Ÿå‚è€ƒä¸‹å›¾ï¼Œä½†æ˜¯æˆ‘æš‚æ—¶ä¸ä¼šåšï¼Œä¸‹å›¾ä¹Ÿæ²¡çœ‹æ‡‚



![1650262970698](JSå¯¹è±¡.assets\1650262970698.png)



2022.4.19  ä»Šå¤©çœ‹åˆ°é’ˆå¯¹Arrayåˆå‡ºäº†æ–°çš„éç ´åæ€§APIï¼ŒtoSorted()  / toReversed()  /  toSpliced() / with()



# äº”ã€å‡½æ•°å¯¹è±¡

å‡½æ•°æœ‰å…·åå‡½æ•°ï¼ŒåŒ¿åå‡½æ•°ï¼Œç®­å¤´å‡½æ•°ï¼Œæ„é€ å‡½æ•°ç­‰

## 1. å®šä¹‰å‡½æ•°



### ï¼ˆ1ï¼‰å…·åå‡½æ•°

```JS
function å‡½æ•°å(å½¢å¼å‚æ•°1ï¼Œå½¢å¼å‚æ•°2){
    è¯­å¥
    return è¿”å›å€¼
}
```



### ï¼ˆ2ï¼‰åŒ¿åå‡½æ•°

ä¹Ÿå«å‡½æ•°è¡¨è¾¾å¼ï¼ˆä»…æŒ‡ä»£ç­‰å·å³è¾¹çš„éƒ¨åˆ†ï¼‰



```js
let a = function(x,y){return x+y}
```

> æ²¡æœ‰å‡½æ•°å
>
> ä½†æ˜¯éœ€è¦ä¸€ä¸ª**å˜é‡**å®¹çº³å®ƒ
>
> ä½œç”¨åŸŸä¹Ÿä»…åœ¨ç­‰å·å³è¾¹
>
> å…¶å®ƒåœ°æ–¹æƒ³è¦è°ƒç”¨å‡½æ•°åªèƒ½é€šè¿‡å˜é‡



### ï¼ˆ3ï¼‰å…·å+åŒ¿å

```js
let a = function fn(x,y){return x+y}
```

> å˜é‡a å­˜å‚¨ç€å‡½æ•°fnçš„**åœ°å€**
>
> ç›´æ¥è°ƒç”¨fnä¼šæŠ¥é”™
>
> å› ä¸ºå‡½æ•°çš„å£°æ˜åœ¨ç­‰å·å³è¾¹æ—¶ï¼Œå‡½æ•°çš„**ä½œç”¨åŸŸ**åªåœ¨ç­‰å·å³è¾¹



### ï¼ˆ4ï¼‰ç®­å¤´å‡½æ•°

```js
let f1 = x => x*x
let f2 = (x,y) => x+y                //åœ†æ‹¬å·ä¸èƒ½çœ
let f3 = (x,y) => {return x+y}       //èŠ±æ‹¬å·ä¸èƒ½çœ
let f4 = (x,y) => ({name:x,age:y})   // ç›´æ¥è¿”å›å¯¹è±¡ä¼šå‡ºé”™ï¼Œè¦åŠ åœ†æ‹¬å·,ä¸åŠ åœ†æ‹¬å·ä¼šè¢«è®¤ä¸ºæ˜¯labelä»£ç å—ï¼Œåœ¨å­—ç¬¦ä¸²åŠ å¼•å·å‘¢ï¼Ÿ
```

>å¤šä¸ªå‚æ•°ä¸èƒ½çœåœ†æ‹¬å·
>
>returnä¸èƒ½çœèŠ±æ‹¬å·
>
>å¤šä¸ªè¯­å¥è¦åœ¨èŠ±æ‹¬å·å¤–åŠ åœ†æ‹¬å·
>
>ç®­å¤´å‡½æ•°æ²¡æœ‰this









### ï¼ˆ5ï¼‰ æ„é€ å‡½æ•°

#### 1ï¼‰æ —å­ï¼š

```js
function Person(name,gender){
    this.name = name
    this.gender = gender
}
Person.prototype.age = function(){console.log('18')}
Person.prototype.nationality = function(){console.log('ä¸­å›½')}
Person.prototype.skin = 'yellow'


let person1 = new Person('å°çº¢','å¥³')
let person1 = new Person('å°æ˜','ç”·')
```



![1650337075535](JSå¯¹è±¡.assets\1650337075535.png)

> Personæ˜¯æ„é€ å‡½æ•°
>
> æŒ‡å®šå…¶å®ä¾‹å¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯nameå’Œgender
>
> åŒæ—¶è¿˜æœ‰ä¸‰ä¸ªå±æ€§å¯ä»¥ä¾›å…¶æ„é€ å‡ºæ¥çš„å®ä¾‹ä½¿ç”¨ï¼Œageã€nationalityä¸¤ä¸ªå‡½æ•°ï¼Œå’Œskinä¸€ä¸ªå±æ€§
>
> å®ä¾‹æ„é€ å‡ºæ¥æ—¶å°±å¯ä»¥é€šè¿‡ä¸Šæº¯åŸå‹ä½¿ç”¨å…¶æ„é€ å‡½æ•°å®šä¹‰çš„å‡½æ•°å’Œå±æ€§
>
> å¯ä»¥çœ‹åˆ°è¢«æ„é€ å‡ºæ¥çš„person1å’Œperson2éƒ½æœ‰nameå’Œgenderä¸¤ä¸ªè‡ªèº«å±æ€§ï¼ŒåŸå‹ä¸­æœ‰ageã€nationalityå’Œskinä¸‰ä¸ªå…±æœ‰å±æ€§



#### 2ï¼‰å®šä¹‰

èƒ½æ„é€ å‡ºå®ä¾‹å¯¹è±¡çš„å‡½æ•°å°±æ˜¯æ„é€ å‡½æ•°



å…±ç”¨å¯ä»¥æ˜¯å‡½æ•°ï¼Œå¯ä»¥æ˜¯å±æ€§



æ„é€ å‡½æ•°X

* Xå‡½æ•°æœ¬èº«è´Ÿè´£ç»™å¯¹è±¡æœ¬èº«æ·»åŠ å±æ€§

* X.prototype å¯¹è±¡è´Ÿè´£ä¿å­˜æ‰‹åŠ¨å†™ç»™å¯¹è±¡çš„å…±ç”¨å±æ€§

* ä¸æ„é€ å‡½æ•°æä¾›çš„åŸå‹çš„prototypeæ˜¯ä¸åŒçš„

  ![1650338422712](JSå¯¹è±¡.assets\1650338422712.png)









* æ¯ä¸ªå‡½æ•°éƒ½æœ‰prototypeå±æ€§ ï¼ˆé™¤äº†ç®­å¤´å‡½æ•°ï¼‰
  
* åŒºåˆ«äºå…¶æ„é€ å‡½æ•°èµ‹äºˆçš„åŸå‹å¯¹è±¡å­˜åœ¨çš„prototypeå±æ€§
  
* æ¯ä¸ªprototypeéƒ½æœ‰constructorå±æ€§

  * constructorå±æ€§ä¿å­˜äº†å¯¹åº”çš„å‡½æ•°çš„åœ°å€

  * æ„æ€å°±æ˜¯æŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°ï¼Œçœ‹ä¸Šå›¾â†‘

  * å¦‚æœæ˜¯æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆå®ƒçš„constructorå°±æŒ‡å‘å®ƒè‡ªå·±

    ![1650340235685](JSå¯¹è±¡.assets\1650340235685.png)



```js
function f1(){}

console.dir(f1)

f1.prototype.constructor === f1
```







* æ˜¯å¯¹è±¡ä½†ä¸æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆå®ƒä¸€èˆ¬æ¥è¯´æ²¡æœ‰prototypeå±æ€§ï¼Œä½†è¿™ä¸ªå¯¹è±¡ä¸€èˆ¬ä¸€å®šä¼šæœ‰`__proto__`å±æ€§ï¼Œä¹Ÿå°±æ˜¯åŸå‹

* æ˜¯å‡½æ•°ä½†ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œå®ƒçš„prototypeå±æ€§æš‚æ—¶æ²¡ç”¨

  * ç”¨æ¥å­˜æ”¾æ„é€ å‡½æ•°å†™ç»™å®ƒçš„å…±æœ‰å±æ€§

  * æ„é€ å‡½æ•°çš„prototypeå±æ€§ç”¨æ¥å­˜æ”¾ç»™å®ä¾‹ä½¿ç”¨çš„å…±æœ‰å±æ€§

* è¿™ä¸ªprototypeæ˜¯å±æ€§ï¼ŒåŸå‹çš„[[Prototype]]åªæ˜¯åˆ©ç”¨æ¥å­˜æ”¾åŸå‹çš„åœ°å€

 

#### 3ï¼‰ç‰¹æ®Šå¯¹è±¡çš„æ„é€ å‡½æ•°

å¯ä»¥é€šè¿‡`constructor`å±æ€§çœ‹å‡ºæ„é€ è€…

* **å¯¹è±¡**æ˜¯ç”±å‡½æ•°æ„é€ çš„

  

  ```js
  Object.__proto__                    
      === Function.prototype    //å¯¹è±¡çš„åŸå‹æ˜¯å…¶æ„é€ å‡½æ•°Function()æä¾›çš„
  Object.__proto__.__proto__           
      === Function.prototype.__proto__ 
      === Object.prototype     //å¯¹è±¡çš„åŸå‹å¯¹è±¡æ˜¯ç”±Object()æä¾›çš„
  Object.__proto__.__proto__.__proto__ 
      === Function.prototype.__proto__.__proto__ 
      === Object.prototype.__proto__  
      === null                 //åŸå‹å¯¹è±¡çš„åŸå‹æ˜¯æ‰€æœ‰å¯¹è±¡çš„æ ¹ï¼Œnull
  ```

  åŒºåˆ†æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä»¥åŠåŸå‹å¯¹è±¡çš„åŸå‹



* **å‡½æ•°**æ˜¯ç”±å‡½æ•°æ„é€ çš„ï¼Œå‡½æ•°çš„åŸå‹ä¹Ÿæ˜¯å¯¹è±¡

  æµè§ˆå™¨åˆ›é€ äº†å‡½æ•°ï¼Œå¹¶æŒ‡å®šä¸ºè‡ªå·±æ„é€ äº†è‡ªå·±



* **window**æ˜¯Windowæ„é€ çš„



![1650351906728](JSå¯¹è±¡.assets\1650351906728.png)





é—®é¢˜ï¼š

new functionä¸å¯ç”¨ï¼Œå’±ä¹Ÿä¸çŸ¥é“å•¥åŸå› 

å°±å»æ–‡æ¡£é‡ŒæŠ„äº†ä»£ç 

![1650339140743](JSå¯¹è±¡.assets\1650339140743.png)

å°±å¾—åˆ°äº†æŠ¥é”™

![1650339170738](JSå¯¹è±¡.assets\1650339170738.png)

æŠ¥é”™é‡Œç»™çš„é“¾æ¥ä¹Ÿç‚¹ä¸å¼€ï¼Œè¿˜ä¸è¢«è®¤ä¸ºæ˜¯JS 

Emmmã€‚ã€‚ã€‚

![1651891388337](JSå¯¹è±¡.assets\1651891388337.png)

è¿™æ˜¯ä»€ä¹ˆï¼ï¼ï¼ï¼

ç¥å¥‡





## 2. å‡½æ•°çš„è¦ç´ 

* è°ƒç”¨æ—¶æœº

* ä½œç”¨åŸŸ

* é—­åŒ…

* å½¢å¼å‚æ•°

* è¿”å›å€¼

* è°ƒç”¨æ ˆ

* å‡½æ•°æå‡

* argumentsï¼ˆé™¤äº†ç®­å¤´å‡½æ•°ï¼‰

* thisï¼ˆé™¤äº†ç®­å¤´å‡½æ•°ï¼‰



### ï¼ˆ1ï¼‰å‡½æ•°fnã€å‡½æ•°è°ƒç”¨fn()



```js
let fn = () => console.log('hi')
fn
// æ²¡æœ‰ç»“æœï¼Œå› ä¸ºfnæ²¡æœ‰æ‰§è¡Œ

let fn = () => console.log('hi')
fn()
//æ‰“å°å‡ºhi
```





```js
let fn = () => console.log('hi')
let fn2 = fn
fn2()
```

ç»“æœï¼š

* fnä¿å­˜äº†åŒ¿åå‡½æ•°çš„åœ°å€
* è¿™ä¸ªå¼Ÿå­è¢«å¤åˆ¶ç»™äº†fn2
* fn2()è°ƒç”¨äº†åŒ¿åå‡½æ•°
* fnå’Œfn2 éƒ½æ˜¯åŒ¿åå‡½æ•°çš„å¼•ç”¨è€Œå·²
* çœŸæ­£çš„å‡½æ•°æ—¢ä¸æ˜¯fnä¹Ÿä¸æ˜¯fn2

  



### ï¼ˆ2ï¼‰è°ƒç”¨æ—¶æœº

æ—¶æœºä¸åŒç»“æœä¸åŒ

```js
let a = 1
function fn(){
    console.log(a)
}//ä¸çŸ¥é“æ‰“å°å‡ºå¤šå°‘ï¼Œæ²¡æœ‰è°ƒç”¨ä»£ç 
```

```js
let a = 1
function fn(){
    console.log(a)
}
fn()//æ‰“å°å‡º1
```

```js
let a = 1
function fn(){
    console.log(a)
}

a = 2
fn()//æ‰“å°å‡º2
```

```js
let a = 1
function fn(){
    console.log(a)
}

fn()
a = 2  //æ‰“å°å‡º1
```

```js
let a = 1
function fn(){
    setTimeout(()=>{console.log(a)}) 
}

fn()
a = 2//æ‰“å°å‡º2
```

```js
let i = 0
for(i=0; i<6; i++){
    setTimeout(()=>{
        console.log(i)
    },0) 
}//æ‰“å°å‡º6ä¸ª6
```

```js
for(let i=0; i<6; i++){
    setTimeout(()=>{
        console.log(i)
    },0) 
}//æ‰“å°å‡º0ã€1ã€2ã€3ã€4ã€5
```

JSåœ¨forå’Œletä¸€èµ·ç”¨çš„æ—¶å€™ï¼Œæ¯å¾ªç¯ä¸€æ¬¡éƒ½ä¼šé‡æ–°å£°æ˜ï¼Œå¤šåˆ›å»ºä¸€ä¸ªi

è¿™æ ·setTimeoutå°±å¤±å»ä½œç”¨äº†



* é—®é¢˜ï¼šforã€letã€setTimeoutæ‰“å°å‡º0,1,2,3,4,5

  ç­”1ï¼šå³æ—¶å‡½æ•°

  ```js
  let i=0
  for( i=0 ; i<6; i++) {
     !function(i){
         setTimeout(()=>{
             console.log(i)
         }, 0)
     }(i)
  }
  ```

  ç­”2ï¼šä¸­é—´å˜é‡

  ```js
  let a = 0
  for (a = 0;a<6;a++){
      let j = a
      setTimeout(()=>{
          console.log(j)
      },0)
  }
  ```

  



### ï¼ˆ3ï¼‰ä½œç”¨åŸŸ 

æ¯ä¸ªå‡½æ•°éƒ½ä¼šé»˜è®¤åˆ›å»ºä¸€ä¸ªä½œç”¨åŸŸ

```js
function fn(){
    let a = 1
}
console.log(a) //aä¸å­˜åœ¨
```

```js
function fn(){
    let a = 1
}
fn()
console.log(a)//aè¿˜æ˜¯ä¸å­˜åœ¨
```

å› ä¸ºletçš„ä½œç”¨åŸŸåªåœ¨èŠ±æ‹¬å·é‡Œ



#### å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡

åœ¨é¡¶çº§ä½œç”¨åŸŸå£°æ˜çš„å˜é‡æ˜¯å…¨å±€å˜é‡ï¼Œwindowæ˜¯å±æ€§æ˜¯å…¨å±€å˜é‡ï¼Œå…¶ä»–æ–—å¿—å±€éƒ¨å˜é‡



#### å‡½æ•°å¯åµŒå¥—ï¼Œä½œç”¨åŸŸä¹Ÿå¯åµŒå¥—

```js
function f1(){
    let a = 1
    function f2(){
        let a = 2
        console.log(a)
    }
    console.log(a)
    a = 3
    f2()
}
f1()
```

#### ä½œç”¨åŸŸè§„åˆ™

* å¦‚æœå¤šä¸ªä½œç”¨åŸŸæœ‰åŒåå˜é‡aï¼Œé‚£ä¹ˆæŸ¥æ‰¾açš„å£°æ˜æ—¶ï¼Œå°±å‘ä¸Šå–æœ€è¿‘çš„ä½œç”¨åŸŸï¼Œç®€ç§°**å°±è¿‘åŸåˆ™**

* æŸ¥æ‰¾açš„è¿‡ç¨‹ä¸å‡½æ•°æ‰§è¡Œæ— å…³     **é™æ€ä½œç”¨åŸŸ**  ä¸ä¹‹ç›¸åçš„æœ‰è¯æ³•ä½œç”¨åŸŸä¹Ÿå«åŠ¨æ€ä½œç”¨åŸŸ   

* ä½†açš„å€¼ä¸å‡½æ•°æ‰§è¡Œæœ‰å…³

```js
function f1(){
    let a = 1
    function f2(){
        let a = 2
        function f3(){
            console.log(a)
        }
        a = 22
        f3()
    }
    console.log(a)
    a = 100
    f2()
}
f1()
```





### ï¼ˆ4ï¼‰é—­åŒ…

å¦‚æœä¸€ä¸ªå‡½æ•°ç”¨åˆ°äº†å¤–éƒ¨çš„å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°åŠ è¿™ä¸ªå˜é‡å°±å«åšé—­åŒ…

å·¦è¾¹çš„`a`å’Œ`f3`ç»„æˆäº†é—­åŒ…



### ï¼ˆ5ï¼‰å½¢å¼å‚æ•°

å½¢å¼å‚æ•°çš„æ„æ€å°±æ˜¯éå®é™…å‚æ•°

```js
function add (x,y){
    return x+y
}
add(1,2)
```

å…¶ä¸­`x`å’Œ`y`å°±æ˜¯å½¢å‚ï¼Œè°ƒç”¨`add()`æ—¶ï¼Œ`1`å’Œ`2`æ˜¯å®é™…å‚æ•°ï¼Œä¼šè¢«èµ‹å€¼ç»™x y



* å€¼ä¼ é€’å’Œåœ°å€ä¼ é€’ï¼š

  æ²¡æœ‰å€¼å’Œåœ°å€ä¹‹åˆ†ï¼Œä¸ç®¡æ˜¯å¯¹è±¡çš„åœ°å€ï¼Œè¿˜æ˜¯æ•°å€¼ï¼Œç»Ÿä¸€æŒ‰ç…§å†…å­˜å›¾ç›´æ¥å¤åˆ¶



* å½¢å‚å¯è®¤ä¸ºæ˜¯å˜é‡å£°æ˜

ä¸Šé¢çš„ä»£ç è¿‘ä¼¼å®šä»·äºä¸‹é¢çš„ä»£ç 

```js
function add(){
    var x = arguements[0]   //ç¬¬0ä¸ªå‚æ•°
    var y = arguements[1]
    return x+y
}
```

å½¢å‚å¯å¤šå¯å°‘ï¼Œåªæ˜¯ç»™å‚æ•°å–åå­—



### ï¼ˆ6ï¼‰è¿”å›å€¼

æ¯ä¸ªå‡½æ•°éƒ½æœ‰è¿”å›å€¼

```js
function hi(){console.log('hi')}
hi()//æ²¡å†™returnï¼Œæ‰€ä»¥è¿”å›å€¼æ˜¯undefined
```



```js
function hi(){return console.log('hi')}
hi()//è¿”å›å€¼æ˜¯console.log('hi')çš„å€¼ï¼Œå³undefined
```



* å‡½æ•°æ‰§è¡Œå®Œåæ‰ä¼šè¿”å›

* åªæœ‰å‡½æ•°æœ‰è¿”å›å€¼

* `1+2`çš„å€¼ä¸º`3`ï¼Œ`1+2`æ²¡æœ‰è¿”å›å€¼ 







### ï¼ˆ7ï¼‰è°ƒç”¨æ ˆ

JSå¼•æ“åœ¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°å‰éœ€è¦æŠŠå‡½æ•°æ‰€åœ¨çš„ç¯å¢ƒpushåˆ°ä¸€ä¸ªæ•°ç»„é‡Œï¼Œè¿™ä¸ªæ•°ç»„å«è°ƒç”¨æ ˆ

ç­‰å‡½æ•°æ‰§è¡Œå®Œäº†ï¼Œå°±ä¼šæŠŠç¯å¢ƒå¼¹ï¼ˆpopï¼‰å‡ºæ¥

ç„¶åreturnåˆ°ä¹‹å‰çš„ç¯å¢ƒï¼Œç»§ç»­æ‰§è¡Œåç»­ä»£ç 



ä¸¾ä¾‹

```js
console.log(1)
console.log('1+2çš„ç»“æœä¸º' + add(1,2))
console.log(2)
```

è¿›å…¥logå‡½æ•°ï¼Œå‹æ ˆï¼Œæ‰“å°1ï¼Œå¼¹æ ˆ

è¿›å…¥ç¬¬äºŒè¡Œï¼Œå‹æ ˆï¼Œæ‰§è¡Œadd(1,2)ï¼Œå‹æ ˆï¼Œè®°å½•ç­‰ä¼šå›åˆ°ç¬¬2è¡Œ21åˆ—ï¼Œå¾—åˆ°3ï¼Œå¼¹æ ˆï¼Œè¿›å…¥logå‡½æ•°ï¼Œå‹æ ˆï¼Œè¿è¡Œå®Œä¹‹åå¼¹æ ˆ





#### é€’å½’å‡½æ•°

é˜¶ä¹˜

```js
function f(n){
    return n !== 1 ? n*f(n-1) 1
}
```

```
f(4)
=4*f(3)
=4*(3*f(2))
=4*(3*(2*f(1)))
=4*(3*(2*(1)))
=4*(3*(2))
=4*(6)
=24
```

é€’å½’å‡½æ•°çš„è°ƒç”¨æ ˆå¾ˆé•¿

è°ƒç”¨æ ˆæœ€é•¿æœ‰å¤šå°‘

```js
function computerMaxCallStackSize(){
    try{
        return 1 + computerMaxCallStackSize();
    }catch(e){
        //æŠ¥é”™è¯´æ˜stack overflow äº†
        return 1
    }
}
```



Chrome   12578

FireFox 26673

Node 12536

* çˆ†æ ˆ

  å¦‚æœè°ƒç”¨æ ˆä¸­å‹å…¥çš„å¸§è¿‡å¤šï¼Œç¨‹åºå°±ä¼šå´©æºƒ







### ï¼ˆ8ï¼‰å‡½æ•°æå‡

```js
function fn(){}
```

ä¸ç®¡æŠŠå…·åå‡½æ•°å£°æ˜æ”¾åˆ°å“ªé‡Œï¼Œéƒ½ä¼šè·‘åˆ°ç¬¬ä¸€è¡Œ



```js
let fn = function(){}
```

è¿™æ˜¯èµ‹å€¼ï¼Œå³è¾¹çš„åŒ¿åå‡½æ•°ä¸ä¼šæå‡



```js 
let fn = function f1(){}
```

ä¼šæå‡å—ï¼Ÿä¸ä¼šï¼è¯·çœ‹å‡½æ•°å£°æ˜é‚£ä¸€èŠ‚



### ï¼ˆ9ï¼‰argumentså’Œthis

é™¤äº†ç®­å¤´å‡½æ•°ï¼Œå…¶å®ƒå‡½æ•°éƒ½æœ‰

```js
function fn(){
    console.log(arguements)
    console.log(this)
}
```

#### ä¼ arguements

* è°ƒç”¨fnå³å¯ä¼ arguements
  * `fn(1,2,3)`é‚£ä¹ˆ`arguements`å°±æ˜¯`[1,2,3]`ä¼ªæ•°ç»„

* å¦‚æœä¸ç»™ä»»ä½•å€¼ï¼Œ`this`é»˜è®¤æŒ‡å‘`window`

#### ä¼ this

* ç›®å‰å¯ä»¥ç”¨`fn.call(xxx,1,2,3)`ä¼ `this`å’Œ`arguements`
* è€Œä¸”`xxx`ä¼šè¢«è‡ªåŠ¨è½¬åŒ–æˆå¯¹è±¡   ` xxx`æ˜¯`this`ï¼Œ`1,2,3`æ˜¯`arguements`



* thisæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

  **this**æ˜¯æ„é€ å‡ºæ¥çš„å®ä¾‹å¯¹è±¡ï¼Œåœ¨è¢«æ„é€ ä¹‹å‰ä¸çŸ¥é“å«ä»€ä¹ˆï¼Œthisæ¥ä»£æ›¿



thisæ˜¯éšè—å‚æ•°

arguementsæ˜¯æ™®é€šå‚æ•°



```js
let person = {
    name:'frank',
    sayHi(){
        console.log(`ä½ å¥½ï¼Œæˆ‘å«`+ person.name)
    }
}
```

> åœ¨å£°æ˜ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™å¯ä»¥ç”¨ä¸€ä¸ª**å˜é‡**å¾—åˆ°è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ ï¼Œæ‰€ä»¥`person`ä¸æ˜¯å…ˆä½¿ç”¨åå£°æ˜ï¼Œæ²¡æœ‰è¿åè§„åˆ™
>
> å¯ä»¥ç”¨ä¿å­˜äº†å¯¹è±¡åœ°å€çš„å˜é‡è·å–`'name'`
>
> è¿™ç§åŠæ³•ç®€ç§°ä¸º**å¼•ç”¨**
>
> å‡½æ•°è°ƒç”¨æ—¶ï¼ŒæŠŠ`this`ç»™å‡ºæ¥ï¼ŒæŠŠ`person`ç»™`this`ï¼Œå°±ç›¸å½“äºæŠŠ`person`ç»™å‡ºæ¥
>
> `this`å°±æ˜¯æœ€ç»ˆè°ƒ`sayHi`çš„å¯¹è±¡





# åŸå‹é“¾

## 1. åŸå‹æ¦‚å¿µ

**åŸå‹æ˜¯ä¸ªå¯¹è±¡â€”â€”åŸå‹å¯¹è±¡**

åŸå‹è§£é‡Šäº†ä¸ºä½•ä¸€ä¸ªå¯¹è±¡ä¼šæ‹¥æœ‰å®šä¹‰åœ¨å…¶ä»–å¯¹è±¡ä¸­çš„å±æ€§å’Œæ–¹æ³•



JSä¸­æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª**éšè—å±æ€§**

è¿™ä¸ªéšè—å±æ€§å­˜ç€å…¶**å…±æœ‰å±æ€§**ç»„æˆçš„**å¯¹è±¡**çš„**åœ°å€**

è¿™ä¸ªå…±æœ‰å±æ€§ç»„æˆçš„å¯¹è±¡å«åš**åŸå‹**



> æ¯ä¸ªå¯¹è±¡éƒ½æœ‰åŸå‹
>
> åŸå‹é‡Œå­˜ç€å¯¹è±¡çš„å…±æœ‰å±æ€§
>
> åŸå‹çš„åœ°å€å­˜åœ¨éšè—å±æ€§é‡Œ
>
> è¿™ä¸ªéšè—å±æ€§**æš‚æ—¶**å°±å«`__proto__`ï¼ˆåªæ˜¯å¸®åŠ©ç†è§£ï¼Œæ²¡æœ‰å®é™…æ„ä¹‰ï¼‰



å¯¹è±¡çš„åŸå‹æ˜¯å®šä¹‰åœ¨å…¶æ„é€ å‡½æ•°ä¹‹ä¸Šçš„`prototype`å±æ€§ä¸Šï¼Œè¢«æ„é€ å‡ºæ¥çš„å¯¹è±¡é€šè¿‡`__proto__`å±æ€§å¤åˆ¶äº†åŸå‹çš„åœ°å€



`__proto__`å±æ€§åœ¨å¯¹è±¡å®ä¾‹å’Œå®ƒçš„æ„é€ å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªé“¾æ¥ï¼ˆ`__proto__`å±æ€§æ˜¯ä»æ„é€ å‡½æ•°çš„`prototype`å±æ€§æ´¾ç”Ÿçš„ï¼‰



æ—¢ç„¶åŸå‹ä¹Ÿæ˜¯ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆåŸå‹ä¹Ÿå¯èƒ½æœ‰åŸå‹



## 2.ä¸¾ä¾‹è§£é‡Šï¼š

### ï¼ˆ1ï¼‰æ™®é€šå¯¹è±¡

```js
let obj = {}

let obj = new Object()
```

`objå®ä¾‹`æ˜¯ç”±`Objectå‡½æ•°`æ„é€ çš„

æ‰€ä»¥ï¼Œ`obj`å¯ä»¥åœ¨`Object`çš„`prototype`å±æ€§è®°å½•çš„**åœ°å€**ä¸­å¯»æ‰¾**ç»§æ‰¿**æ–¹æ³•å’Œå±æ€§ï¼ˆ`toString / constructor / valueOf `ç­‰`Object`æ„é€ å‡ºçš„å¯¹è±¡éƒ½å¯ä»¥ä½¿ç”¨çš„å±æ€§ï¼‰ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª`__proto__`å±æ€§å¤åˆ¶äº†`Object.prototype`å­˜å‚¨çš„åœ°å€

`obj.__proto__ === Object.prototype`

obj çš„åŸå‹ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå­˜å‚¨ç€Objectæ„é€ å‡ºæ¥çš„å®ä¾‹éƒ½å¯ä»¥ä½¿ç”¨çš„å±æ€§





**é‚£ä¹ˆ`Object.prototype`æœ‰åŸå‹å—ï¼Ÿ**

ç­”æ¡ˆæ˜¯æœ‰ï¼Œä½†æ˜¯å€¼ä¸ºnull

ä¹Ÿå°±æ˜¯Object.prototypeå°±æ˜¯æ‰€æœ‰å¯¹è±¡çš„æ ¹äº†

`Object.prototype.__proto__=== null`



`obj.__proto__`æ˜¯objçš„åŸå‹ï¼Œä¹Ÿå°±æ‰€æœ‰å¯¹è±¡çš„åŸå‹ï¼Œæ˜¯å¯¹è±¡çš„æ ¹ï¼Œåœ¨å¾€ä¸Šå°±æ˜¯null



![1649912691447](JSå¯¹è±¡.assets\1649912691447.png)

![1649912814291](JSå¯¹è±¡.assets\1649912814291.png)



### ï¼ˆ2ï¼‰æ•°ç»„å¯¹è±¡

```js
let arr = []

let arr = new Array()
```



arrå®ä¾‹æ˜¯ç”±Arrayå‡½æ•°æ„é€ çš„ï¼Œ

æ‰€ä»¥`arr`çš„`__proto__`å±æ€§æ˜¯ä»Arrayçš„prototypeå±æ€§ä¸­ç»§æ‰¿çš„ï¼Œå¹¶ä¸”ä¸¤ä¸ªå­˜å‚¨äº†ä¸€æ ·çš„åœ°å€ï¼ŒæŒ‡å‘äº†arrçš„åŸå‹å¯¹è±¡ï¼ˆæ‰€æœ‰Arrayå‡½æ•°æ„é€ å‡ºæ¥çš„å®ä¾‹å¯ä»¥å…±åŒä½¿ç”¨çš„å±æ€§çš„é›†åˆï¼‰

æ‰€ä»¥`arr.__proto__ === Array.prototype`

arrçš„åŸå‹å¯¹è±¡ä¹Ÿæœ‰åŸå‹

åŸå‹å¯¹è±¡çš„æ„é€ å‡½æ•°å°±æ˜¯Object

æ‰€ä»¥`Array.prototype.__proto__ === Object.prototype`

`Object.prototype.__proto__ === null`

![1649914171413](JSå¯¹è±¡.assets\1649914171413.png)



![1649914279534](JSå¯¹è±¡.assets\1649914279534.png)





### ï¼ˆ3ï¼‰å‡½æ•°å¯¹è±¡

 ```js
function fn(){}
 ```



fnå®ä¾‹æ˜¯ç”±Functionå‡½æ•°æ„é€ çš„ï¼Œ

æ‰€ä»¥fn çš„åŸå‹å¯¹è±¡å°±æ˜¯`fn.__proto__ === Function.prototype`æŒ‡å‘çš„å…±æœ‰å±æ€§

è¿™ä¸ªåŸå‹å¯¹è±¡ä¹Ÿæœ‰åŸå‹

`Function.prototype.__proto__  === Object.prototype`







![1649918754009](JSå¯¹è±¡.assets\1649918754009.png)

![1649918865997](JSå¯¹è±¡.assets\1649918865997.png)







## 3. åŸå‹é“¾

æ¯ä¸ªå¯¹è±¡æ‹¥æœ‰ä¸€ä¸ª**åŸå‹å¯¹è±¡**ï¼Œå¯¹è±¡ä»¥å…¶åŸå‹ä¸ºæ¨¡æ¿ã€ä»åŸå‹ç»§æ‰¿æ–¹æ³•å’Œå±æ€§ã€‚åŸå‹å¯¹è±¡ä¹Ÿå¯èƒ½æ‹¥æœ‰åŸå‹ï¼Œå¹¶ä»ä¸­ç»§æ‰¿æ–¹æ³•å’Œå±æ€§ï¼Œä¸€å±‚ä¸€å±‚ã€ä»¥æ­¤ç±»æ¨ã€‚è¿™ç§å…³ç³»å¸¸è¢«ç§°ä¸º**åŸå‹é“¾ (prototype chain)**



ä¸¾ä¾‹ï¼š

`arr` å¦‚æœè¦ä½¿ç”¨`hasOwnProperty()`æ–¹æ³•ï¼Œè‡ªèº«æ²¡æœ‰å®šä¹‰è¿™ä¸ªæ–¹æ³•ï¼Œå°±å»`Array.prototype`æŒ‡å‘çš„å¯¹è±¡é‡Œæ‰¾ï¼Œæ²¡æœ‰å°±åœ¨ä¸Šä¸€å±‚åˆ°`Object.prototype`æŒ‡å‘çš„å¯¹è±¡é‡Œæ‰¾





## 4. æ€»ç»“

æ„é€ å‡½æ•°æŒ‡å®šäº†å…¶æ„é€ å®ä¾‹å¯ä»¥ä½¿ç”¨çš„ä¸€ç³»åˆ—å±æ€§å’Œæ–¹æ³•ï¼Œè¿™äº›å±æ€§å’Œæ–¹æ³•å«åš**åŸå‹å¯¹è±¡**ï¼Œ

åŸå‹å¯¹è±¡çš„åœ°å€å­˜å‚¨åœ¨`prototype`å±æ€§ä¸­ï¼Œ`prototype`å±æ€§æ´¾ç”Ÿå‡º`__proto__`å±æ€§ï¼Œå®ä¾‹å¯é€šè¿‡`__proto__`å±æ€§é“¾æ¥åˆ°æ„é€ å‡½æ•°ç»™å‡ºçš„åŸå‹å¯¹è±¡ä¸Š

åŸå‹å¯¹è±¡ä¹Ÿæœ‰åŸå‹ï¼Œä¸€å±‚ä¸€å±‚ä¸Šæº¯ï¼Œä¸€å±‚ä¸€å±‚é“¾æ¥ï¼Œå°±æ˜¯**åŸå‹é“¾**

**è¯»**ï¼Œä¼šä¸Šæº¯åˆ°åŸå‹é“¾ï¼Œ**å†™**ï¼Œåªä¼šåœ¨åŸå‹é“¾æœ€ä¸Šå±‚â€”â€”å®ä¾‹é‚£ä¸€å±‚å¦å¤–æ·»åŠ ï¼Œä¸ä¼šæ›´æ”¹åˆ°åŸæ¥çš„åŸå‹é“¾

åŸæ¥çš„åŸå‹é“¾ä¹Ÿå¯ä»¥æ›´æ”¹ï¼Œä½†æ˜¯äº†è§£åŸå‹æ˜¯ä»€ä¹ˆä¹‹åè¿˜è¦æ”¹å—ï¼ŸğŸ™‚ğŸ™‚ğŸ™‚







ä½ æ˜¯è°æ„é€ çš„ï¼Œä½ çš„åŸå‹å°±æ˜¯è°çš„prototypeå±æ€§å¯¹åº”çš„å¯¹è±¡

`å¯¹è±¡.__proto__ === å…¶æ„é€ å‡½æ•°.prototype`





`obj` => è‡ªå†™å±æ€§ => `Object.prototype` => null

`arr` => è‡ªå†™å±æ€§ =>` Array.prototype` => `Object.prototype` => null

`fn` => è‡ªå†™å±æ€§ =>` Function.prototyoe` => `Object.prototype` => null







## 5. ç»†èŠ‚

* `prototype `å’Œ`__proto__`åŒºåˆ«
  * å­˜ç€ç›¸åŒçš„åŸå‹åœ°å€
  * prototypeæŒ‚åœ¨å‡½æ•°ä¸Šï¼ŒObject
  * protoæŒ‚åœ¨æ¯ä¸ªæ–°ç”Ÿæˆçš„å¯¹è±¡ä¸Š

* æ”¹ï¼ˆå†™ï¼‰ä¸èµ°å…±æœ‰å±æ€§ï¼Œåªèƒ½è¯»åˆ°å…±æœ‰å±æ€§
* `__proto__`åªæ˜¯å­˜å‚¨å…±æœ‰å±æ€§çš„åœ°å€ï¼Œæ²¡æœ‰å®é™…æ„ä¹‰ï¼Œä¸åŒæµè§ˆå™¨å¯èƒ½å«æ³•ä¸åŒ  
* `console.dir `è¾“å‡ºç»“æ„

* [`Object.prototype.__proto__`å·²åºŸå¼ƒ](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/proto)

å¯ä»¥å€Ÿç”¨   å¸®åŠ©ç†è§£



[åŸå‹æ–‡æ¡£](https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Objects/Object_prototypes)







Object.prototypeæ˜¯æœ¬æ¥å°±æœ‰çš„ï¼Œæ˜¯æ‰€æœ‰å¯¹è±¡çš„æ ¹ï¼Œå€¼ä¸ºnullï¼Œæ²¡æœ‰æ„é€ å‡½æ•°

å®ƒæ²¡æœ‰åŸå‹







## 6. åŸå‹åº”ç”¨

### ï¼ˆ1ï¼‰åˆ 

`xxx.__proto__ = null`

ä½†æ˜¯ä¸è¦åˆ ï¼Œåˆ äº†å°±ä¸èƒ½ç”¨äº†ï¼Œæ¯•ç«ŸJSæ˜¯â€œåŸºäºåŸå‹çš„è¯­è¨€â€





### ï¼ˆ2ï¼‰æŸ¥

* æŸ¥çœ‹æ‰€æœ‰åŸå‹å¯¹è±¡ï¼š

`console.dir(obj)`  ä»¥ç›®å½•å½¢å¼æ‰“å°

` obj.__proto__`



* åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªå±æ€§ï¼š

  `'xxx' in obj` 

  å¯ä»¥åˆ¤æ–­`xxx`å±æ€§æ˜¯å¦åœ¨`obj`é‡Œé¢ï¼Œä¸ä¸€å®šæ˜¯è‡ªèº«å±æ€§è¿˜æ˜¯åŸå‹å±æ€§

* åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯è‡ªèº«çš„è¿˜æ˜¯å…±æœ‰çš„

  `obj.hasOwnProperty('toString')`

  ä¸æ˜¯è‡ªèº«å±æ€§å°±æŠ¥é”™ï¼ŒåŸå‹å±æ€§ä¹ŸæŠ¥é”™



### ï¼ˆ3ï¼‰æ”¹æˆ–å¢

è¯»ä¼šèµ°åŸå‹ï¼Œå†™ä¸ä¼šèµ°åŸå‹

æ— æ³•é€šè¿‡è‡ªèº«ä¿®æ”¹æˆ–å¢åŠ å…±æœ‰å±æ€§

ä¿®æ”¹åä¼šåœ¨åŸå‹ä¸Šå†åŠ ä¸€å±‚åŸå‹ï¼Œä¸ä¼šä¿®æ”¹åˆ°åŸæœ‰çš„åŸå‹



```js
let obj = {},obj2 = {}   //åŒä¸ºå¯¹è±¡ï¼Œå…±æœ‰toStringå±æ€§
obj.toString = 'xxx'     //åªä¼šæ”¹åœ¨objè‡ªèº«å±æ€§ï¼Œobj2.toStringè¿˜æ˜¯åœ¨åŸå‹ä¸Š
```

![1650628564011](JSå¯¹è±¡.assets\1650628564011.png)



objåŸå‹ä¸­çš„toString æ–¹æ³•ä¾æ—§è¿˜æœ‰ï¼Œåªæ˜¯åœ¨æœ€ä¸Šå±‚åˆå¢åŠ äº†ä¸€ä¸ªtoStringå±æ€§ï¼Œå½“è°ƒç”¨objçš„toStringæ—¶ï¼Œåœ¨è‡ªèº«å±æ€§ä¸­æ‰¾åˆ°å°±ä¸ä¼šèµ°åˆ°åŸå‹çš„toString

è€Œobj2çš„toStringä¾æ—§æ˜¯åŸå‹ä¸­çš„toStringï¼Œæ²¡æœ‰æ”¹å˜



å¯ä¿®æ”¹æ–¹æ³•ï¼š

```js
//ä¸¤ä¸ªç­‰ä»·
obj.__proto__.toString = 'xxx'    // ä¸æ¨èä½¿ç”¨__proto__
Object.prototype.toString = 'xxx'
```

è¿™æ ·å°±å¯ä»¥ä¿®æ”¹åŸå‹ä¸­çš„å±æ€§äº†

**ä½†æ˜¯ï¼ï¼**

ä¸€èˆ¬ä¸è¦ä¿®æ”¹åŸå‹ï¼Œä¼šå¼•å‘å¾ˆå¤šé—®é¢˜ï¼Œå¾ˆå½±å“æ€§èƒ½



åº”ç”¨ï¼š

ä¸æ¨èä½¿ç”¨`__proto__`

```js
let obj = {name:'frank'}
let obj2 = {name:'jack'}
let common = {kind:'human'}
obj.__proto__ = common
obj2.__proto__ = common
```



æ¨èä½¿ç”¨Object.create

```js
let obj = Object.create(common)
obj.name = 'frank'
let obj2 = Object.create(common)
obj2.name = 'jack'
```

è¦æ”¹ä¸€å¼€å§‹å°±æ”¹ï¼Œåˆ«åæ¥å†æ”¹ï¼Œ







æ•™ç¨‹

å…¥é—¨https://wangdoc.com/javascript/

è¿›é˜¶https://book.douban.com/subject/26351021/

http://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html

æµè§ˆå™¨å·¥ä½œåŸç†https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/#1_1   å„ç§èµ„æ–™åˆé›†ï¼ŒåŸæ–‡æ–‡æ¡£ï¼Œé—²çš„æ²¡äº‹å¹²å¯ä»¥çœ‹

v8å¼•æ“https://blog.sessionstack.com/how-javascript-works-inside-the-v8-engine-5-tips-on-how-to-write-optimized-code-ac089e62b12e

  çŸ¥ä¹æ–¹åº”æ­JS ä¸­ __proto__ å’Œ prototype å­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ https://www.zhihu.com/question/56770432/answer/315342130

çŸ¥ä¹æ–¹åº”æ­JSä¸­çš„newåˆ°åº•æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿhttps://zhuanlan.zhihu.com/p/23987456

çŸ¥ä¹æ–¹åº”æ­ä½ å¯ä»¥ä¸ä¼š classï¼Œä½†æ˜¯ä¸€å®šè¦å­¦ä¼š prototypehttps://zhuanlan.zhihu.com/p/35279244

